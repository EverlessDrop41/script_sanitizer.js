function isDefined(e){return"undefined"!=typeof e&&null!=e}function defaultFor(e,t){return isDefined(e)?e:t}function script_sanitize(e,t){var r="",i=!0,n=!0;isDefined(t)&&(r=defaultFor(t.replacementText,r),i=defaultFor(t.loop,i),n=defaultFor(t.removeEndTagsAfter,n));var f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script\s*>/gi,o=/<\/script\s*>/gi;if(i)for(;f.test(e);)e=e.replace(f,r);else e=e.replace(f,r);if(n)for(;o.test(e);)e=e.replace(o,r);return e}void 0!==typeof module&&(module.exports=script_sanitize);