var script_sanitize={utils:{isDefined:function(e){return"undefined"!=typeof e&&null!=e},defaultFor:function(e,n){return this.isDefined(e)?e:n},generateRegexForTag:function(e){var n="<"+e+"\\b[^<]*(?:(?!<\\/"+e+">)<[^<]*)*<\\/"+e+"\\s*>";return new RegExp(n,"gi")},generateRegexForEndTag:function(e){var n="<\\/"+e+"\\s*>";return new RegExp(n,"gi")},generateRegexForAttribute:function(e){var n=e+"=(\"|')[^\"']*(\"|')";return new RegExp(n,"gi")}},defaultAttributes:["onafterprint","onbeforeprint","onbeforeunload","onerror","onhashchange","onload","onoffline","ononline","onpagehide","onpageshow","onpopstate","onresize","onstorage","onunload","onblur","onchange","oncontextmenu","onfocus","oninput","oninvalid","onreset","onsearch","onselect","onsubmit","onkeydown","onkeyup","onkeypress","onclick","ondblclick","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onwheel","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onscroll","oncopy","oncut","onpaste","onabort","oncanplay","oncanplaythrough","oncuechange","ondurationchange","onemptied","onended","onerror","onloadeddata","onloadedmetadata","onloadstart","onpause","onplay","onplaying","onprogress","onratechange","onseeked","onseeking","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","onshow","ontoggle"],sanitize:function(e,n){var o="",t=!0,r=!0,a=["script"],i=this.defaultAttributes,s=script_sanitize.utils;s.isDefined(n)&&(o=s.defaultFor(n.replacementText,o),t=s.defaultFor(n.loop,t),r=s.defaultFor(n.removeEndTagsAfter,r),a=s.defaultFor(n.tags,a),i=s.defaultFor(n.attributes,i));for(var u in a){var d=a[u],l=s.generateRegexForTag(d),g=s.generateRegexForEndTag(d);if(t)for(;l.test(e);)e=e.replace(l,o);else e=e.replace(l,o);if(r)for(;g.test(e);)e=e.replace(g,o)}for(var p in i)for(var c=i[p],f=s.generateRegexForAttribute(c);f.test(e);)e=e.replace(f,"");return e}};void 0!==typeof module&&(module.exports=script_sanitize);